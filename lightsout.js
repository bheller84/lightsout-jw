(function(k){for(var h=document.getElementsByTagName("head")[0].getElementsByTagName("script"),e=0;e<h.length;e++){var j=h[e].src.match(/(.*?)lightsout-?\d?\.js/);if(j){var l=j[1];break}}var m=function(c,b,e){function i(a){d.element.style.opacity=""+a;d.element.style.filter="alpha(opacity="+Math.round(100*a)+")";d.opacity=a}this.element=c;this.time=b||1E3;this.dark=e||0.8;this.opacity=0;var d=this,g;"opacity"in d.element.style||(d.element.style.zoom=1);this.off=function(){d.element.style.display=
"block";clearInterval(g);var a=(new Date).getTime(),b=d.opacity;g=setInterval(function(){var c=((new Date).getTime()-a)/d.time;if(c>=1){c=1;clearInterval(g)}i(d.dark*c+b*(1-c))},1E3/60)};this.on=function(){clearInterval(g);var a=(new Date).getTime(),c=d.opacity;g=setInterval(function(){var b=((new Date).getTime()-a)/d.time;if(b>=1){b=1;clearInterval(g);d.element.style.display="none"}i(0*b+c*(1-b))},1E3/60)};this.toggle=function(){if(d.opacity<0.5)d.off();else d.on()}};k().registerPlugin("lightsout",
function(c,b,e){function i(){c.pause(!0);f.on()}function d(){if("off"==b.oncomplete)f.off();else f.on()}function g(){switch(c.getState()){case "IDLE":if("off"==b.onidle)f.off();else f.on();break;case "PLAYING":if("off"==b.onplay)f.off();else f.on();break;case "PAUSED":if("off"==b.onpause)f.off();else f.on()}}var a,f,h={backgroundcolor:"000000",dockicon:!0,opacity:0.8,time:800,onidle:"on",onplay:"off",onpause:"on",oncomplete:"on",parentid:null};c.onReady(function(){for(var e in h)void 0===b[e]&&(b[e]=
h[e]);a=document.createElement("div");a.className+=" lightsout_shade";a.style.display="none";a.style.backgroundColor="#"+b.backgroundcolor;a.style.zIndex=300;a.style.opacity=0;a.style.filter="alpha(opacity=0)";a.style.top=0;a.style.left=0;a.style.bottom=0;a.style.right=0;b.parentid?(a.style.position="absolute",document.getElementById(b.parentid).style.position="relative",document.getElementById(b.parentid).appendChild(a)):(a.style.position="fixed",document.body.appendChild(a));a.onclick=i;f=new m(a,
b.time,b.opacity);!0===b.dockicon&&c.getPlugin("dock")&&(e=l+"lightsout_dock_out.png",c.getPlugin("dock").setButton("lightsout",f.toggle,e,e));"html5"==c.getRenderingMode()?c.getContainer().style.zIndex=301:c.getContainer().parentNode.style.zIndex=301;c.onIdle(g);c.onPlay(g);c.onPause(g);c.onComplete(d)});this.getDisplayElement=function(){return e};this.resize=function(){}})})(jwplayer);
