(function(e){function t(t,o,i){function a(){for(var e in p)o[e]===void 0&&(o[e]=p[e]);if(d=document.createElement("div"),d.className+=" lightsout_shade",d.style.display="none",d.style.backgroundColor="#"+o.backgroundcolor,d.style.zIndex=300,d.style.opacity=0,d.style.filter="alpha(opacity=0)",d.style.top=0,d.style.left=0,d.style.bottom=0,d.style.right=0,o.parentid?(d.style.position="absolute",document.getElementById(o.parentid).style.position="relative",document.getElementById(o.parentid).appendChild(d)):(d.style.position="fixed",document.body.appendChild(d)),d.onclick=r,u=new n(d,o.time,o.opacity,s),g.on=u.on,g.off=u.off,g.toggle=u.toggle,o.dockicon===!0&&t.getPlugin("dock")){var i=l+"lightsout_dock_out.png";t.getPlugin("dock").setButton("lightsout",u.toggle,i,i)}t.onIdle(y),t.onPlay(y),t.onPause(y),t.onComplete(f)}function s(){for(var n=e.getPlayers(),o=0;n.length>o;o++)c(n[o],"auto");c(t,301)}function c(e,t){e.getRenderingMode()==="html5"?e.getContainer().style.zIndex=t:e.getContainer().parentNode.style.zIndex=t}function r(){t.pause(!0),u.on()}function f(){o.oncomplete=="off"?u.off():u.on()}function y(){switch(t.getState()){case"IDLE":o.onidle=="off"?u.off():u.on();break;case"PLAYING":o.onplay=="off"?u.off():u.on();break;case"PAUSED":o.onpause=="off"?u.off():u.on()}}var d,u,g=this,p={backgroundcolor:"000000",dockicon:!0,opacity:.8,time:800,onidle:"on",onplay:"off",onpause:"on",oncomplete:"on",parentid:null};t.onReady(a),this.getDisplayElement=function(){return i},this.resize=function(){}}function n(e,t,n,o){function i(e){l.element.style.opacity=""+e,l.element.style.filter="alpha(opacity="+Math.round(e*100)+")",l.opacity=e}this.element=e,this.time=t||1e3,this.dark=n||.8,this.opacity=0;var a,l=this,s="opacity"in this.element.style;s||(this.element.style.zoom=1),this.off=function(){typeof o=="function"&&o(),l.element.style.display="block",clearInterval(a);var e=(new Date).getTime(),t=l.opacity;a=setInterval(function(){var n=((new Date).getTime()-e)/l.time;1>n||(n=1,clearInterval(a)),i(l.dark*n+t*(1-n))},1e3/60)},this.on=function(){clearInterval(a);var e=(new Date).getTime(),t=l.opacity;a=setInterval(function(){var n=((new Date).getTime()-e)/l.time;1>n||(n=1,clearInterval(a),l.element.style.display="none"),i(0*n+t*(1-n))},1e3/60)},this.toggle=function(){.5>l.opacity?l.off():l.on()}}for(var o=document.getElementsByTagName("head")[0].getElementsByTagName("script"),i=0;o.length>i;i++){var a=o[i].src.match(/(.*?)lightsout-?\d?\.js/);if(a){var l=a[1];break}}e().registerPlugin("lightsout",t)})(jwplayer)